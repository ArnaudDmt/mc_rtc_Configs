ObserverPipelines:
  name: MainObserverPipeline
  gui: true
  observers:
    - type: Encoder
    
    - type: BodySensor
      update: false
      config:
        bodySensor: FloatingBase
        
    - type: Attitude
      update: true

      
    - type: KinematicInertial
      update: true
      config:
        anchorFrame:
          maxAnchorFrameDiscontinuity: 0.05 # [m]

    - type: MCVanytEstimator
      update: true      
      config: 
        leggedOdometry:
          odometryType: 6D


    - type: MCKineticsObserver
      update: false
      config: 
        ignoreWrenchSensors: false
        withContactStateCovRemoval: false
        withDebugLogs: true
        leggedOdometry:
          odometryType: 6D


    # - type: MCKineticsObserver
    #   name: KOAPC
    #   update: false
    #   config: 
    #     withDebugLogs: false
    #     withContactStateCovRemoval: false
    #     leggedOdometry:
    #       odometryType: 6D 	

    # - type: MCKineticsObserver
    #   name: KOASC
    #   update: false
    #   config: 
    #     zero_process_cov: true
    #     withDebugLogs: false
    #     withAdaptativeContactProcessCov: false
    #     leggedOdometry:
    #       odometryType: 6D 	

    - type: MCKineticsObserver
      name: KOZPC
      update: false
      config: 
        zero_process_cov: true
        withDebugLogs: false
        withContactStateCovRemoval: false
        withAdaptativeContactProcessCov: false
        leggedOdometry:
          odometryType: 6D 	
    
    - type: MCKineticsObserver
      name: KOWithoutWrenchSensors
      update: false
      config: 
        ignoreWrenchSensors: true
        withDebugLogs: true
        withContactStateCovRemoval: false
        withAdaptativeContactProcessCov: true
        leggedOdometry:
          odometryType: 6D 	

    # - type: Tilt
    #   update: false
    #   config: 
    #     leggedOdometry:
    #       odometryType: 6D 	


    #- type: NaiveOdometry
    #  update: false
    #  config:
    #    odometryType: Flat
    #    contactsDetection: Sensors
    #    #surfacesForContactDetection: [RightFootCenter, LeftFootCenter] # [LeftHandForceSensor]

    - type: MocapVisualizer
      update: false
      config:
        firstRun: true
        projectName: HRP5_MultiContact_4
        mocapBodyName: Body
        contactsDetection: Surfaces
        surfacesForContactDetection: [RightFootCenter, LeftFootCenter, LeftHandCloseContact] # [RightFootCenter, LeftFootCenter, LeftHandCloseContact]